<!DOCTYPE html>
<html lang="de">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>AHS Smart Terminal</title>
    <link href="https://fonts.googleapis.com/css2?family=Outfit:wght@300;500;700;900&display=swap" rel="stylesheet">
    <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.4.0/css/all.min.css">

    <style>
        :root {
            --primary: #007aff;
            --secondary: #5856d6;
            --accent: #ff2d55;
            --bg-grad: linear-gradient(135deg, #f5f7fa 0%, #c3cfe2 100%);
            --glass: rgba(255, 255, 255, 0.9);
            --shadow: 0 15px 35px rgba(0,0,0,0.1);
            --anim-speed: 0.4s;
        }

        * { margin: 0; padding: 0; box-sizing: border-box; font-family: 'Outfit', sans-serif; user-select: none; }

        body {
            background: #eef2f3;
            height: 100vh;
            overflow: hidden;
            display: flex; flex-direction: column;
        }

        /* Hintergrund Animation */
        .bg-anim {
            position: fixed; top: 0; left: 0; width: 100%; height: 100%; z-index: -1;
            background: linear-gradient(-45deg, #ee7752, #e73c7e, #23a6d5, #23d5ab);
            background-size: 400% 400%;
            animation: gradientBG 15s ease infinite;
            opacity: 0.15;
        }
        @keyframes gradientBG { 0% {background-position: 0% 50%;} 50% {background-position: 100% 50%;} 100% {background-position: 0% 50%;} }

        /* --- HEADER --- */
        header {
            padding: 1.5rem 3rem;
            display: flex; justify-content: space-between; align-items: center;
            background: rgba(255,255,255,0.8); backdrop-filter: blur(10px);
            box-shadow: 0 5px 20px rgba(0,0,0,0.05);
            z-index: 100;
        }
        .brand img { height: 60px; margin-right: 20px; }
        .brand h1 { font-size: 1.8rem; font-weight: 800; color: #333; }
        
        /* Language Switcher */
        .lang-switch { display: flex; gap: 10px; background: #f0f0f0; padding: 5px; border-radius: 50px; }
        .lang-btn {
            border: none; background: transparent; padding: 10px 20px; border-radius: 40px;
            font-weight: bold; cursor: pointer; transition: 0.3s; opacity: 0.6;
        }
        .lang-btn.active { background: white; shadow: 0 2px 10px rgba(0,0,0,0.1); opacity: 1; color: var(--primary); transform: scale(1.05); }

        /* --- GRID LAYOUT --- */
        main {
            flex: 1; padding: 2rem 3rem;
            display: grid;
            grid-template-columns: repeat(3, 1fr); /* 3 Spalten */
            grid-template-rows: auto auto; 
            gap: 2rem;
            overflow-y: auto;
        }

        /* Card Design */
        .card {
            background: var(--glass);
            border-radius: 25px;
            padding: 2rem;
            text-align: center;
            transition: all var(--anim-speed);
            cursor: pointer;
            box-shadow: var(--shadow);
            position: relative; overflow: hidden;
            display: flex; flex-direction: column; align-items: center; justify-content: center;
            border: 2px solid transparent;
        }
        .card:hover { transform: translateY(-10px); border-color: var(--primary); }
        .card img { height: 80px; margin-bottom: 20px; object-fit: contain; transition: 0.5s; }
        .card:hover img { transform: scale(1.15) rotate(3deg); }
        .card h3 { font-size: 1.6rem; margin-bottom: 10px; color: #222; }
        .card p { color: #666; font-size: 1rem; line-height: 1.4; }

        /* Special Cards */
        .card-fabi {
            grid-column: span 2; /* Macht die Karte breit */
            background: linear-gradient(135deg, #fff 0%, #f0f4ff 100%);
            align-items: flex-start; text-align: left; flex-direction: row; padding-left: 3rem;
        }
        .fabi-info { flex: 1; }
        .fabi-tags { display: flex; flex-wrap: wrap; gap: 8px; margin-top: 15px; }
        .tag { background: #e0eaff; color: var(--primary); padding: 5px 10px; border-radius: 8px; font-size: 0.8rem; font-weight: bold; }

        .card-social { grid-column: span 1; background: #111; color: white; }
        .card-social h3 { color: white; }
        .card-social p { color: #aaa; }

        /* --- MODALS --- */
        .modal-overlay {
            position: fixed; top: 0; left: 0; width: 100%; height: 100%;
            background: rgba(0,0,0,0.6); backdrop-filter: blur(15px);
            z-index: 1000;
            display: none; justify-content: center; align-items: center;
            opacity: 0; transition: opacity 0.5s;
        }
        .modal-overlay.active { display: flex; opacity: 1; }

        .modal-window {
            background: #fff; width: 90%; max-width: 1100px; height: 85%;
            border-radius: 30px;
            display: flex; flex-direction: column;
            overflow: hidden;
            box-shadow: 0 50px 100px rgba(0,0,0,0.3);
            animation: zoomUp 0.4s ease;
        }

        .m-header {
            padding: 20px 40px; background: #f9f9f9; border-bottom: 1px solid #ddd;
            display: flex; justify-content: space-between; align-items: center;
        }
        .close-btn {
            background: var(--accent); color: white; border: none; padding: 10px 25px;
            border-radius: 30px; font-size: 1rem; cursor: pointer; font-weight: bold;
        }
        
        .m-body { flex: 1; padding: 40px; overflow-y: auto; }

        /* Untis Table Styling */
        .untis-sim { width: 100%; border-collapse: separate; border-spacing: 0 10px; }
        .u-row { background: white; box-shadow: 0 2px 10px rgba(0,0,0,0.05); }
        .u-cell { padding: 15px; border-top: 1px solid #eee; border-bottom: 1px solid #eee; vertical-align: middle; }
        .u-cell:first-child { border-left: 1px solid #eee; border-radius: 10px 0 0 10px; font-weight: bold; color: #888; }
        .u-cell:last-child { border-right: 1px solid #eee; border-radius: 0 10px 10px 0; }
        
        .status-badge { padding: 5px 12px; border-radius: 8px; color: white; font-weight: bold; font-size: 0.9rem; display: inline-block; }
        .s-change { background: #2ecc71; } /* Gr√ºn */
        .s-cancel { background: #e74c3c; text-decoration: line-through; opacity: 0.7; } /* Rot */
        .s-event { background: #2ecc71; } /* Auch Gr√ºn f√ºr Events */
        
        /* QR Code Grid */
        .qr-grid { display: grid; grid-template-columns: repeat(3, 1fr); gap: 20px; text-align: center; }
        .qr-item { background: #f4f4f4; padding: 20px; border-radius: 15px; }
        .qr-item img { width: 100%; max-width: 150px; border-radius: 10px; mix-blend-mode: multiply; }
        .qr-btn { background: #333; color: white; padding: 10px; margin-top: 10px; display: block; border-radius: 10px; text-decoration: none; font-size: 0.8rem;}

        /* Fabi Leon Modal */
        .dev-profile { display: flex; gap: 40px; align-items: center; }
        .dev-img { width: 200px; height: 200px; border-radius: 50%; object-fit: cover; border: 5px solid var(--primary); }

        @keyframes zoomUp { from { transform: scale(0.9) translateY(50px); opacity: 0; } to { transform: scale(1) translateY(0); opacity: 1; } }
    </style>
</head>
<body>

    <div class="bg-anim"></div>

    <header>
        <div class="brand" style="display: flex; align-items: center;">
            <img src="https://www.anton-hansen-schule.de/fileadmin/anton_hansen/lay/logo_ahs.png" alt="AHS">
            <div>
                <h1>AHS OTTWEILER</h1>
                <p style="color: #666;" data-i18n="header_sub">Interaktives Informations-Terminal</p>
            </div>
        </div>
        <div class="lang-switch">
            <button class="lang-btn active" onclick="setLang('de')">DE</button>
            <button class="lang-btn" onclick="setLang('en')">EN</button>
            <button class="lang-btn" onclick="setLang('fr')">FR</button>
        </div>
    </header>

    <main>
        <div class="card" onclick="openModal('untis')">
            <img src="../images/Untis-Logo.svg" alt="Untis" onerror="this.src='https://cdn-icons-png.flaticon.com/512/2693/2693507.png'">
            <h3 data-i18n="untis_title">WebUntis</h3>
            <p data-i18n="untis_desc">Der digitale Stundenplan. Keine Zettelwirtschaft mehr. Immer aktuell auf deinem Handy.</p>
        </div>

        <div class="card" onclick="openModal('sdui')">
            <img src="../images/Sduilogo.png" alt="Sdui" onerror="this.src='https://cdn-icons-png.flaticon.com/512/3059/3059997.png'">
            <h3 data-i18n="sdui_title">Sdui Messenger</h3>
            <p data-i18n="sdui_desc">Sichere Kommunikation zwischen Eltern, Lehrern und Sch√ºlern. DSGVO-konform.</p>
        </div>

        <div class="card" onclick="openModal('taskcards')">
            <img src="../images/taskcardslogo.png" alt="TaskCards" onerror="this.src='https://cdn-icons-png.flaticon.com/512/3065/3065780.png'">
            <h3 data-i18n="tc_title">TaskCards</h3>
            <p data-i18n="tc_desc">Die digitale Pinnwand f√ºr Unterrichtsmaterial, Wochenpl√§ne und kreative Projekte.</p>
        </div>

        <div class="card card-fabi" onclick="openModal('fabi')">
            <div class="fabi-info">
                <h3 data-i18n="fabi_title">Fabi & Leon</h3>
                <p data-i18n="fabi_desc">Von Sch√ºlern f√ºr Sch√ºler. Wir programmieren, engagieren uns in der SV und gestalten Schule mit.</p>
                <div class="fabi-tags">
                    <span class="tag">Stellv. Sch√ºlersprecher</span>
                    <span class="tag">SV-Tech Team</span>
                    <span class="tag">Schule ohne Rassismus</span>
                    <span class="tag">Regionalkonferenz</span>
                </div>
            </div>
            <img src="www.fabiundleon.de/images/Logo.png" style="height: 120px; border-radius: 15px;" onerror="this.src='https://cdn-icons-png.flaticon.com/512/4712/4712109.png'">
        </div>

        <div class="card card-social" onclick="openModal('social')">
            <img src="../images/InstaLogo.png" style="filter: brightness(100);" alt="Social">
            <h3 data-i18n="social_title">Social Media</h3>
            <p data-i18n="social_desc">YouTube, Instagram, Spotify & Homepage. Scanne die Codes f√ºr zuhause.</p>
        </div>
    </main>

    <div id="modal-untis" class="modal-overlay">
        <div class="modal-window">
            <div class="m-header">
                <h2 data-i18n="m_untis_head">üìÖ WebUntis: Dein Live-Stundenplan</h2>
                <button class="close-btn" onclick="closeAll()">X</button>
            </div>
            <div class="m-body">
                <p style="margin-bottom: 20px; color: #555;" data-i18n="m_untis_intro">So sieht es in der App aus: √Ñnderungen sind sofort sichtbar. Eltern wissen Bescheid, Sch√ºler stehen nicht vor verschlossenen T√ºren.</p>
                
                <table class="untis-sim">
                    <tr class="u-row">
                        <td class="u-cell">07:55</td>
                        <td class="u-cell" style="text-decoration: line-through;">
                            <b style="font-size: 1.1rem;">Mathematik</b><br>
                            <span style="color: #666;">Herr M√ºller | R 202</span>
                        </td>
                        <td class="u-cell"><span class="status-badge s-cancel" data-i18n="st_cancelled">Entfall</span></td>
                    </tr>
                    <tr class="u-row">
                        <td class="u-cell">08:40</td>
                        <td class="u-cell">
                            <b style="font-size: 1.1rem;">Englisch</b><br>
                            <span style="color: #666;">Fr. Meyer (statt Hr. Kunz)</span>
                        </td>
                        <td class="u-cell"><span class="status-badge s-change" data-i18n="st_subst">Vertretung</span></td>
                    </tr>
                    <tr class="u-row">
                        <td class="u-cell">09:45</td>
                        <td class="u-cell">
                            <b style="font-size: 1.1rem;">SV-Sitzung</b><br>
                            <span style="color: #666;">Aula</span>
                        </td>
                        <td class="u-cell"><span class="status-badge s-event" data-i18n="st_event">Veranstaltung</span></td>
                    </tr>
                    <tr class="u-row">
                        <td class="u-cell">10:35</td>
                        <td class="u-cell">
                            <b style="font-size: 1.1rem;">Deutsch</b><br>
                            <span style="color: #666;">Frau Schmidt | R 105</span>
                        </td>
                        <td class="u-cell"><span style="color: #888;">Regul√§r</span></td>
                    </tr>
                </table>
            </div>
        </div>
    </div>

    <div id="modal-sdui" class="modal-overlay">
        <div class="modal-window">
            <div class="m-header">
                <h2 data-i18n="m_sdui_head">üí¨ Sdui: Datenschutz leicht gemacht</h2>
                <button class="close-btn" onclick="closeAll()">X</button>
            </div>
            <div class="m-body" style="text-align: center;">
                <p data-i18n="m_sdui_text">Sdui ersetzt WhatsApp Gruppen und Telefonketten. Es ist unser offizielles Kommunikationsmittel.</p>
                <br>
                <iframe width="100%" height="450" style="border-radius: 15px; max-width: 800px;" src="https://www.youtube.com/embed/npTVuzEj42o?rel=0" frameborder="0" allow="accelerometer; autoplay; clipboard-write; encrypted-media; gyroscope; picture-in-picture" allowfullscreen></iframe>
            </div>
        </div>
    </div>

    <div id="modal-taskcards" class="modal-overlay">
        <div class="modal-window">
            <div class="m-header">
                <h2>TaskCards</h2>
                <button class="close-btn" onclick="closeAll()">X</button>
            </div>
            <div class="m-body" style="padding: 0;">
                <iframe src="https://lk-nk.taskcards.app/#/board/f4c46a53-4fc9-4146-9dcb-6eb3d81da2a4/view?token=90d399d5-4e3b-4ef3-a763-40cf6c18c262" style="width:100%; height:100%; border:none;"></iframe>
            </div>
        </div>
    </div>

    <div id="modal-fabi" class="modal-overlay">
        <div class="modal-window" style="max-width: 800px;">
            <div class="m-header">
                <h2>Fabi & Leon</h2>
                <button class="close-btn" onclick="closeAll()">X</button>
            </div>
            <div class="m-body">
                <div class="dev-profile">
                    <img src="../images/FabiUndLeonProfile.jpg" class="dev-img" onerror="this.src='https://cdn-icons-png.flaticon.com/512/4712/4712109.png'">
                    <div>
                        <h2 style="color: var(--primary);">Engagiert f√ºr die AHS.</h2>
                        <p style="margin-top: 10px; line-height: 1.6;">Wir sind stolz, Teil dieser Schulgemeinschaft zu sein. Neben unseren √Ñmtern in der Sch√ºlervertretung (SV) und der Schulregionalkonferenz k√ºmmern wir uns um technische Projekte wie dieses Terminal.</p>
                        <br>
                        <button onclick="window.open('https://www.fabiundleon.de')" style="padding: 15px 30px; background: var(--primary); color: white; border: none; border-radius: 50px; font-weight: bold; cursor: pointer;">Unsere Homepage besuchen</button>
                    </div>
                </div>
                <hr style="margin: 30px 0; border: 0; border-top: 1px solid #eee;">
                <h3 style="text-align: center; margin-bottom: 20px;">Scanne unsere Social Media Links</h3>
                <div style="text-align: center;">
                    <img src="https://api.qrserver.com/v1/create-qr-code/?size=200x200&data=https://www.fabiundleon.de/Social-Media/" style="width: 200px; border-radius: 10px;">
                    <p style="margin-top: 10px; font-weight: bold;">www.fabiundleon.de/Social-Media/</p>
                </div>
            </div>
        </div>
    </div>

    <div id="modal-social" class="modal-overlay">
        <div class="modal-window">
            <div class="m-header">
                <h2 data-i18n="m_social_head">Social Media & Links</h2>
                <button class="close-btn" onclick="closeAll()">X</button>
            </div>
            <div class="m-body">
                <p style="text-align: center; margin-bottom: 30px;" data-i18n="m_social_intro">Nimm die Schule mit nach Hause. Einfach mit dem Handy scannen.</p>
                <div class="qr-grid">
                    <div class="qr-item">
                        <img src="../images/SchuleQR.jpg" onerror="this.src='https://api.qrserver.com/v1/create-qr-code/?data=https://youtube.com/ahs-ottweiler'">
                        <h3>YouTube</h3>
                        <p>Schulfilme & Projekte</p>
                    </div>
                    <div class="qr-item">
                        <img src="../images/InstaQR.jpg" onerror="this.src='https://api.qrserver.com/v1/create-qr-code/?data=https://instagram.com/ahs-ottweiler'">
                        <h3>Instagram</h3>
                        <p>Aktuelle News & Fotos</p>
                    </div>
                    <div class="qr-item">
                        <img src="https://api.qrserver.com/v1/create-qr-code/?data=https://open.spotify.com/show/ahs-podcast" alt="Spotify">
                        <h3>Spotify Podcast</h3>
                        <p>H√∂r mal rein!</p>
                    </div>
                </div>
                <div style="text-align: center; margin-top: 30px;">
                    <button onclick="window.open('https://www.anton-hansen-schule.de')" style="padding: 15px 40px; background: #333; color: white; border: none; border-radius: 50px; font-weight: bold; cursor: pointer;">Zur Schul-Webseite</button>
                </div>
            </div>
        </div>
    </div>

    <script>
        // --- TRANSLATION DATABASE ---
        const translations = {
            de: {
                header_sub: "Interaktives Informations-Terminal",
                untis_title: "WebUntis",
                untis_desc: "Der digitale Stundenplan. Keine Zettelwirtschaft mehr. Immer aktuell auf deinem Handy.",
                sdui_title: "Sdui Messenger",
                sdui_desc: "Sichere Kommunikation zwischen Eltern, Lehrern und Sch√ºlern. Datenschutzkonform.",
                tc_title: "TaskCards",
                tc_desc: "Die digitale Pinnwand f√ºr Unterrichtsmaterial, Wochenpl√§ne und kreative Projekte.",
                fabi_title: "Fabi & Leon",
                fabi_desc: "Von Sch√ºlern f√ºr Sch√ºler. Wir programmieren, engagieren uns in der SV und gestalten Schule mit.",
                social_title: "Social Media",
                social_desc: "YouTube, Instagram, Spotify & Homepage. Scanne die Codes f√ºr zuhause.",
                m_untis_head: "üìÖ WebUntis: Dein Live-Stundenplan",
                m_untis_intro: "So sieht es in der App aus: √Ñnderungen sind sofort sichtbar. Gr√ºn = Veranstaltung/Vertretung, Rot = Entfall.",
                st_cancelled: "Entfall",
                st_subst: "Vertretung",
                st_event: "Veranstaltung",
                m_sdui_head: "üí¨ Sdui: Datenschutz leicht gemacht",
                m_sdui_text: "Sdui ist unser offizieller Messenger. Keine privaten Nummern mehr.",
                m_social_head: "Social Media & Links",
                m_social_intro: "Nimm die Schule mit nach Hause. Einfach scannen."
            },
            en: {
                header_sub: "Interactive Information Terminal",
                untis_title: "WebUntis",
                untis_desc: "The digital timetable. No more paper chaos. Always up to date on your phone.",
                sdui_title: "Sdui Messenger",
                sdui_desc: "Secure communication between parents, teachers, and students. GDPR compliant.",
                tc_title: "TaskCards",
                tc_desc: "The digital pinboard for teaching materials, weekly plans, and creative projects.",
                fabi_title: "Fabi & Leon",
                fabi_desc: "Students for students. We code, engage in the student council, and shape our school.",
                social_title: "Social Media",
                social_desc: "YouTube, Instagram, Spotify & Homepage. Scan the codes to take home.",
                m_untis_head: "üìÖ WebUntis: Live Timetable",
                m_untis_intro: "This is how the app looks: Changes are visible instantly. Green = Event/Subst, Red = Cancelled.",
                st_cancelled: "Cancelled",
                st_subst: "Substitution",
                st_event: "Event",
                m_sdui_head: "üí¨ Sdui: Privacy made easy",
                m_sdui_text: "Sdui is our official messenger tool. No more private phone numbers.",
                m_social_head: "Social Media & Links",
                m_social_intro: "Take the school home with you. Just scan."
            },
            fr: {
                header_sub: "Terminal d'Information Interactif",
                untis_title: "WebUntis",
                untis_desc: "L'emploi du temps num√©rique. Toujours √† jour sur votre portable.",
                sdui_title: "Messagerie Sdui",
                sdui_desc: "Communication s√©curis√©e entre parents, enseignants et √©l√®ves.",
                tc_title: "TaskCards",
                tc_desc: "Le tableau d'affichage num√©rique pour le mat√©riel p√©dagogique et les projets.",
                fabi_title: "Fabi & Leon",
                fabi_desc: "Par les √©l√®ves, pour les √©l√®ves. Nous programmons et nous engageons au conseil des √©l√®ves.",
                social_title: "R√©seaux Sociaux",
                social_desc: "YouTube, Instagram, Spotify & Site Web. Scannez les codes.",
                m_untis_head: "üìÖ WebUntis: Emploi du temps en direct",
                m_untis_intro: "Voici l'application : Les changements sont visibles imm√©diatement. Vert = √âv√©nement, Rouge = Annul√©.",
                st_cancelled: "Annul√©",
                st_subst: "Remplacement",
                st_event: "√âv√©nement",
                m_sdui_head: "üí¨ Sdui: La confidentialit√© facile",
                m_sdui_text: "Sdui est notre outil de messagerie officiel.",
                m_social_head: "R√©seaux Sociaux & Liens",
                m_social_intro: "Emportez l'√©cole avec vous. Scannez simplement."
            }
        };

        // --- LOGIC ---
        let currentLang = 'de';
        let idleTimer;
        const IDLE_LIMIT = 60000; // 60 Sekunden Inaktivit√§t

        function setLang(lang) {
            currentLang = lang;
            
            // Update Buttons
            document.querySelectorAll('.lang-btn').forEach(btn => btn.classList.remove('active'));
            document.querySelector(`.lang-btn[onclick="setLang('${lang}')"]`).classList.add('active');

            // Update Text
            document.querySelectorAll('[data-i18n]').forEach(el => {
                const key = el.getAttribute('data-i18n');
                if(translations[lang][key]) {
                    el.innerText = translations[lang][key];
                }
            });
            resetTimer();
        }

        function openModal(id) {
            document.getElementById('modal-' + id).classList.add('active');
            resetTimer();
        }

        function closeAll() {
            document.querySelectorAll('.modal-overlay').forEach(el => el.classList.remove('active'));
            // Iframes reloaden um Video zu stoppen
            document.querySelectorAll('iframe').forEach(iframe => {
                const src = iframe.src;
                iframe.src = src;
            });
            resetTimer();
        }

        // --- IDLE TIMER RESET ---
        function resetTimer() {
            clearTimeout(idleTimer);
            idleTimer = setTimeout(() => {
                console.log("System Idle - Resetting...");
                closeAll(); // Schlie√üt alle Fenster
                setLang('de'); // Reset auf Deutsch
                window.scrollTo(0,0);
            }, IDLE_LIMIT);
        }

        // Global Event Listeners
        window.onload = () => {
            document.body.addEventListener('click', resetTimer);
            document.body.addEventListener('touchstart', resetTimer);
            document.body.addEventListener('mousemove', resetTimer);
            resetTimer();
        };

    </script>
</body>
</html>
