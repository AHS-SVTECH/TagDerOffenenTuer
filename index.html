<!DOCTYPE html>
<html lang="de">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>AHS Ottweiler - Smart Dashboard</title>
    <link href="https://fonts.googleapis.com/css2?family=Poppins:wght@300;400;600;800&display=swap" rel="stylesheet">
    <style>
        :root {
            --bg-color: #f0f4f8; /* Helles Grau-Blau f√ºr Whiteboards */
            --card-bg: #ffffff;
            --primary: #007aff; /* Modernes Apple-Blau */
            --secondary: #5856d6; /* Modernes Lila */
            --accent: #ff2d55;
            --text-main: #1d1d1f;
            --text-muted: #86868b;
            --shadow: 0 10px 30px rgba(0,0,0,0.08);
            --radius: 24px;
        }

        * { margin: 0; padding: 0; box-sizing: border-box; font-family: 'Poppins', sans-serif; }

        body {
            background-color: var(--bg-color);
            color: var(--text-main);
            height: 100vh;
            overflow: hidden; /* Scrollen verhindern f√ºr App-Feeling */
            display: flex;
            flex-direction: column;
        }

        /* --- HEADER --- */
        header {
            background: rgba(255,255,255,0.9);
            backdrop-filter: blur(20px);
            padding: 1rem 2rem;
            display: flex;
            justify-content: space-between;
            align-items: center;
            box-shadow: 0 4px 20px rgba(0,0,0,0.05);
            z-index: 100;
            animation: slideDown 0.8s ease;
        }

        .brand {
            display: flex;
            align-items: center;
            gap: 15px;
        }

        .brand img { height: 50px; }
        
        .brand h1 {
            font-size: 1.5rem;
            font-weight: 800;
            background: linear-gradient(135deg, var(--primary), var(--secondary));
            -webkit-background-clip: text;
            -webkit-text-fill-color: transparent;
        }

        .status-badge {
            background: #eef2ff;
            color: var(--primary);
            padding: 8px 16px;
            border-radius: 50px;
            font-weight: 600;
            font-size: 0.9rem;
            border: 1px solid rgba(0,122,255,0.2);
        }

        /* --- MAIN CONTENT --- */
        main {
            flex: 1;
            padding: 2rem;
            overflow-y: auto;
            display: grid;
            grid-template-columns: repeat(auto-fit, minmax(300px, 1fr));
            gap: 2rem;
            align-content: center;
            padding-bottom: 140px; /* Platz f√ºr Konsole */
        }

        h3 {
            grid-column: 1 / -1;
            font-size: 1.2rem;
            color: var(--text-muted);
            text-transform: uppercase;
            letter-spacing: 1px;
            margin-top: 1rem;
            border-left: 4px solid var(--primary);
            padding-left: 10px;
        }

        /* --- INTERACTIVE CARDS --- */
        .card {
            background: var(--card-bg);
            border-radius: var(--radius);
            padding: 2rem;
            text-align: center;
            box-shadow: var(--shadow);
            transition: all 0.4s cubic-bezier(0.175, 0.885, 0.32, 1.275);
            cursor: pointer;
            position: relative;
            overflow: hidden;
            border: 2px solid transparent;
        }

        .card:hover {
            transform: translateY(-8px) scale(1.02);
            box-shadow: 0 20px 40px rgba(0,122,255,0.15);
            border-color: var(--primary);
        }

        .card img {
            height: 80px;
            object-fit: contain;
            margin-bottom: 1.5rem;
            transition: transform 0.3s;
        }

        .card:hover img { transform: scale(1.1) rotate(5deg); }

        .card h4 { font-size: 1.4rem; margin-bottom: 0.5rem; }
        .card p { color: var(--text-muted); font-size: 0.95rem; }

        /* Badge for Developers */
        .dev-badge {
            position: absolute;
            top: 10px;
            right: 10px;
            background: linear-gradient(45deg, #FFD700, #FFA500);
            color: white;
            font-size: 0.7rem;
            padding: 3px 8px;
            border-radius: 10px;
            font-weight: bold;
        }

        /* --- MODALS & DEMO ENVIRONMENTS --- */
        .modal-overlay {
            position: fixed; top: 0; left: 0; width: 100%; height: 100%;
            background: rgba(0,0,0,0.6);
            backdrop-filter: blur(8px);
            z-index: 1000;
            display: none;
            justify-content: center;
            align-items: center;
            opacity: 0;
            transition: opacity 0.3s;
        }

        .modal-overlay.active { display: flex; opacity: 1; }

        .modal-window {
            background: #fff;
            width: 90%;
            max-width: 900px;
            border-radius: var(--radius);
            padding: 3rem;
            box-shadow: 0 25px 50px rgba(0,0,0,0.2);
            animation: zoomIn 0.4s ease;
            position: relative;
            max-height: 90vh;
            overflow-y: auto;
        }

        .close-btn {
            position: absolute;
            top: 20px;
            right: 20px;
            background: #f0f0f5;
            border: none;
            width: 40px; height: 40px;
            border-radius: 50%;
            font-size: 1.5rem;
            cursor: pointer;
            transition: 0.2s;
        }
        .close-btn:hover { background: var(--accent); color: white; }

        /* --- UNTIS SIMULATION --- */
        .untis-demo {
            background: #f9f9f9;
            border: 1px solid #ddd;
            border-radius: 12px;
            padding: 15px;
            margin-top: 20px;
        }
        
        .untis-header {
            background: #ff7e00; /* Untis Orange */
            color: white;
            padding: 10px;
            border-radius: 8px 8px 0 0;
            font-weight: bold;
            display: flex;
            justify-content: space-between;
        }

        .timetable-grid {
            display: grid;
            grid-template-columns: 50px repeat(5, 1fr);
            gap: 5px;
            margin-top: 10px;
        }

        .grid-head { font-weight: bold; text-align: center; color: #666; font-size: 0.9rem; }
        .grid-cell { 
            background: white; border: 1px solid #eee; border-radius: 5px; 
            padding: 10px; font-size: 0.85rem; min-height: 60px;
            display: flex; flex-direction: column; justify-content: center;
        }
        .cancelled { background: #ffebee; border-left: 3px solid red; }
        .changed { background: #e8f5e9; border-left: 3px solid green; }
        .cell-sub { font-weight: bold; }
        .cell-room { font-size: 0.75rem; color: #888; }

        /* --- CONSOLE --- */
        #console-bar {
            position: fixed; bottom: 0; left: 0; width: 100%; height: 120px;
            background: #1a1a1a; color: #00ff9d;
            font-family: 'Courier New', monospace;
            padding: 15px 30px;
            border-top: 4px solid var(--primary);
            z-index: 2000;
            box-shadow: 0 -10px 30px rgba(0,0,0,0.1);
            display: flex;
            flex-direction: column;
        }
        
        .console-top { display: flex; justify-content: space-between; border-bottom: 1px solid #333; padding-bottom: 5px; margin-bottom: 5px; font-size: 0.8rem; color: #888; }
        #console-content { overflow-y: auto; flex: 1; font-size: 0.9rem; }
        .log-line { margin-bottom: 3px; }
        .log-line.error { color: #ff4d4d; }
        .log-line.success { color: #00ff9d; }

        /* --- QR TIMER --- */
        .qr-timer-box {
            font-size: 3rem;
            font-weight: 800;
            color: var(--primary);
            margin: 20px 0;
        }

        @keyframes slideDown { from { transform: translateY(-100%); } to { transform: translateY(0); } }
        @keyframes zoomIn { from { transform: scale(0.9); opacity: 0; } to { transform: scale(1); opacity: 1; } }

    </style>
</head>
<body>

    <header>
        <div class="brand">
            <img src="https://www.anton-hansen-schule.de/fileadmin/anton_hansen/lay/logo_ahs.png" alt="Logo">
            <div>
                <h1>AHS OPEN DAY</h1>
                <small style="color: #666;">Interactive Whiteboard Environment</small>
            </div>
        </div>
        <div class="status-badge">üü¢ System Online</div>
    </header>

    <main>
        <h3>üì± Digitale Schule</h3>
        
        <div class="card" onclick="openModal('modal-taskcards')">
            <img src="../images/taskcardslogo.png" alt="TaskCards" onerror="this.src='https://via.placeholder.com/100/333/fff?text=TaskCards'">
            <h4>TaskCards</h4>
            <p>Die digitale Pinnwand</p>
        </div>

        <div class="card" onclick="openModal('modal-sdui')">
            <img src="../images/Sduilogo.png" alt="Sdui" onerror="this.src='https://via.placeholder.com/100/ec008c/fff?text=Sdui'">
            <h4>Sdui & WebUntis</h4>
            <p>Messenger & Stundenplan</p>
        </div>

        <div class="card" onclick="openQR('Videos', '../images/QR-Code-Videos.png')">
            <img src="../images/SmC-Logo.jpeg" alt="Videos" onerror="this.src='https://via.placeholder.com/100/333/fff?text=Videos'">
            <h4>Videos to Go</h4>
            <p>QR-Code scannen</p>
        </div>

        <h3>üåê Social & Web</h3>

        <div class="card" onclick="log('Navigating to Homepage...', 'warn'); window.open('https://www.anton-hansen-schule.de', '_blank')">
            <img src="https://www.anton-hansen-schule.de/fileadmin/anton_hansen/lay/logo_ahs.png" alt="Home">
            <h4>Homepage</h4>
            <p>Offizielle Webseite</p>
        </div>

        <div class="card" onclick="openQR('Entwickler', '../images/FabiUndLeonQR.jpg')">
            <div class="dev-badge">DEVS</div>
            <img src="../images/FabiUndLeonProfile.jpg" alt="FabiLeon" onerror="this.src='https://via.placeholder.com/100/000/fff?text=F+&+L'">
            <h4>Fabi & Leon</h4>
            <p>Created by Students</p>
        </div>
    </main>

    <div id="console-bar">
        <div class="console-top">
            <span>DEBUG_CONSOLE // FABI_UND_LEON_BUILD_v4.0</span>
            <span>Verbindung: SICHER</span>
        </div>
        <div id="console-content"></div>
    </div>

    <div id="modal-taskcards" class="modal-overlay">
        <div class="modal-window">
            <button class="close-btn" onclick="closeModal()">&times;</button>
            <h2 style="color: var(--primary);">üìå TaskCards</h2>
            <hr style="margin: 15px 0; border: 0; border-top: 1px solid #eee;">
            <div style="display: flex; gap: 20px; align-items: flex-start;">
                <img src="../images/taskcardslogo.png" style="width: 100px;" onerror="this.style.display='none'">
                <div>
                    <p><b>Die digitale Tafel f√ºr Zuhause.</b></p>
                    <ul style="margin-left: 20px; margin-top: 10px; line-height: 1.8;">
                        <li>Datenschutzkonform (DSGVO)</li>
                        <li>Teilen von Arbeitsbl√§ttern & Videos</li>
                        <li>Einfach f√ºr Sch√ºler & Eltern</li>
                    </ul>
                    <button style="margin-top: 20px; padding: 10px 20px; background: var(--secondary); color: white; border: none; border-radius: 10px; cursor: pointer;" onclick="log('TaskCards Demo User Login...', 'success')">Live-Demo starten</button>
                </div>
            </div>
        </div>
    </div>

    <div id="modal-sdui" class="modal-overlay">
        <div class="modal-window">
            <button class="close-btn" onclick="closeModal()">&times;</button>
            <h2 style="color: #ec008c;">üì± Sdui & WebUntis</h2>
            <p>So sieht der digitale Alltag an der AHS aus.</p>
            
            <div class="untis-demo">
                <div class="untis-header">
                    <span>üìÖ WebUntis Demo-Stundenplan</span>
                    <span>Klasse 8a</span>
                </div>
                <div class="timetable-grid">
                    <div></div>
                    <div class="grid-head">Mo</div>
                    <div class="grid-head">Di</div>
                    <div class="grid-head">Mi</div>
                    <div class="grid-head">Do</div>
                    <div class="grid-head">Fr</div>

                    <div class="grid-head">1</div>
                    <div class="grid-cell"><span class="cell-sub">Mathe</span><span class="cell-room">R201</span></div>
                    <div class="grid-cell"><span class="cell-sub">Deutsch</span><span class="cell-room">R105</span></div>
                    <div class="grid-cell cancelled"><span class="cell-sub">Sport</span><span class="cell-room">ENTFALL</span></div>
                    <div class="grid-cell"><span class="cell-sub">Englisch</span><span class="cell-room">R304</span></div>
                    <div class="grid-cell"><span class="cell-sub">Bio</span><span class="cell-room">Saal 2</span></div>

                    <div class="grid-head">2</div>
                    <div class="grid-cell"><span class="cell-sub">Mathe</span><span class="cell-room">R201</span></div>
                    <div class="grid-cell"><span class="cell-sub">Deutsch</span><span class="cell-room">R105</span></div>
                    <div class="grid-cell changed"><span class="cell-sub">Kunst</span><span class="cell-room">-> R001</span></div>
                    <div class="grid-cell"><span class="cell-sub">Englisch</span><span class="cell-room">R304</span></div>
                    <div class="grid-cell"><span class="cell-sub">Religion</span><span class="cell-room">R110</span></div>
                </div>
                <div style="margin-top: 10px; font-size: 0.8rem; color: #666;">
                    * Rot = Entfall | Gr√ºn = Vertretung/Raum√§nderung
                </div>
            </div>
            
            <div style="margin-top: 20px; background: #fff3cd; padding: 15px; border-radius: 10px; border-left: 5px solid #ffcc00;">
                <strong>‚ö†Ô∏è Hinweis zur Testphase:</strong> Sch√ºlerkonten sehen aktuell noch keine Tagesnachrichten. Bitte Eltern fragen!
            </div>
        </div>
    </div>

    <div id="modal-qr" class="modal-overlay">
        <div class="modal-window" style="text-align: center; max-width: 500px;">
            <button class="close-btn" onclick="closeQRModal()">&times;</button>
            <h2 id="qr-title">Scan Mich</h2>
            <div class="qr-timer-box" id="qr-timer">00:15</div>
            <img id="qr-image" src="" style="width: 100%; max-width: 300px; border-radius: 15px; box-shadow: 0 5px 15px rgba(0,0,0,0.1);">
            <p style="margin-top: 15px;">Code l√§uft ab in...</p>
        </div>
    </div>

    <script>
        // --- LOGGING SYSTEM ---
        function log(msg, type='info') {
            const consoleBox = document.getElementById('console-content');
            const now = new Date().toLocaleTimeString();
            const div = document.createElement('div');
            div.className = 'log-line ' + (type === 'warn' ? 'error' : (type === 'success' ? 'success' : ''));
            div.innerHTML = `[${now}] > ${msg}`;
            consoleBox.appendChild(div);
            consoleBox.scrollTop = consoleBox.scrollHeight;
        }

        // --- INIT ---
        window.onload = function() {
            log('Initialisierung Interactive Whiteboard OS...');
            setTimeout(() => log('Lade Module: TaskCards, WebUntis, Sdui...'), 500);
            setTimeout(() => log('Design-Engine "Fabi & Leon CleanUI" gestartet.', 'success'), 1200);
        };

        // --- MODAL LOGIC ---
        function openModal(id) {
            document.getElementById(id).classList.add('active');
            log('Fenster ge√∂ffnet: ' + id.replace('modal-', '').toUpperCase());
        }

        function closeModal() {
            document.querySelectorAll('.modal-overlay').forEach(el => el.classList.remove('active'));
            log('Fenster geschlossen.');
        }

        // --- QR LOGIC ---
        let timerInterval;
        
        function openQR(title, imgSrc) {
            const modal = document.getElementById('modal-qr');
            document.getElementById('qr-title').innerText = title;
            document.getElementById('qr-image').src = imgSrc;
            modal.classList.add('active');
            
            log('Generiere QR Token f√ºr: ' + title, 'success');
            
            // Timer Reset
            clearInterval(timerInterval);
            let timeLeft = 15;
            const timerDisplay = document.getElementById('qr-timer');
            timerDisplay.innerText = "00:15";
            timerDisplay.style.color = "var(--primary)";

            timerInterval = setInterval(() => {
                timeLeft--;
                timerDisplay.innerText = "00:" + (timeLeft < 10 ? "0" + timeLeft : timeLeft);
                
                if(timeLeft <= 5) timerDisplay.style.color = "red"; // Warnfarbe

                if(timeLeft <= 0) {
                    clearInterval(timerInterval);
                    closeModal();
                    log('Sitzung abgelaufen (Timeout).', 'error');
                }
            }, 1000);
        }

        // Klick au√üerhalb schlie√üt Modal
        window.onclick = function(e) {
            if(e.target.classList.contains('modal-overlay')) {
                closeModal();
                if(timerInterval) clearInterval(timerInterval);
            }
        }
    </script>

</body>
</html>
